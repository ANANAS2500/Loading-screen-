local screenWidth, screenHeight = gui.getScreenSize()

local text = "Be patient, the script is loading"
local font = draw.createFont("Arial", 24)

local textWidth, textHeight = draw.measureText(font, text)
local textX = (screenWidth - textWidth) / 2
local textY = (screenHeight - textHeight) / 2

gui.enableScreenDrawing(true)

local particles = {}
local numParticles = 50 -- Number of particles
local particleSize = 2  -- Size of each particle

-- Initialize particles
for i = 1, numParticles do
    particles[i] = {
        x = math.random(0, screenWidth),
        y = math.random(0, screenHeight),
        dx = math.random(-2, 2) / 2, -- Random x direction
        dy = math.random(-2, 2) / 2, -- Random y direction
        alpha = math.random(100, 255) -- Random transparency
    }
end

while true do
    draw.clear(0, 0, 0, 255) -- Black background

    -- Draw and update particles
    for i = 1, numParticles do
        local p = particles[i]

        -- Move particle
        p.x = p.x + p.dx
        p.y = p.y + p.dy

        -- Wrap around screen edges
        if p.x < 0 then p.x = screenWidth end
        if p.x > screenWidth then p.x = 0 end
        if p.y < 0 then p.y = screenHeight end
        if p.y > screenHeight then p.y = 0 end

        -- Draw particle (white with varying transparency)
        draw.setColor(255, 255, 255, p.alpha)
        draw.circle(p.x, p.y, particleSize) -- Or draw.pixel(p.x, p.y) for smaller dots
    end

    draw.setColor(255, 255, 255, 255)
    draw.text(font, textX, textY, text)

    gui.update()
end
